三次握手
第一次握手：客户端a将标志位SYN置为1，随机产生一个值为seq=J的数据包到服务器，客户端a进入syn-sent状态，等待服务端b确认
第二次握手：服务端b收到数据包后由标志位SYN=1知道客户端a请求建立连接，服务端将标志位SYN和ACK都置成1，ack=J+1,seq=K,
并将该数据包发送给客户端A以确认连接请求，服务端B进入SYN_RCVD状态
第三次握手：客户端A收到确认后，检查ack是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，ack=K+1，并将该数据包发送给服务端B
服务端B检查ack是否为K+1，ACK是否为1，如果正确则连接建立成功，客户端A和服务端B进入ESTABLISHED状态，完成三次握手，随后客户端A与
服务端B之间可以开始传输数据了。

四次分手
1.首先客户端请求关闭客户端到服务端方向的连接，这时候客户端就要发送一个FIN=1，表示要关闭一个方向的连接，客户端进入FIN_WAIT1状态
2.服务端接收到后是需要确认一下的，所以返回了一个ACK=1，客户端进入FIN_WAIT_2状态
3.这时只关闭了一个方向，另一个方向也需要关闭，所以服务端也向客户端发送一个FIN=1，服务端进入LAST_ACK状态
4.客户端接收到后发送ACK=1,表示接受成功，进入TIME_WAIT状态，服务端收到客户端的ACK报文段以后，就关闭连接；此时，客户端等待2MSL后依然没有收到回复，则证明Server端已正常关闭，那好，客户端也可以关闭连接了。

为什么要三次握手？
为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误。或者因为网络超时导致重复链接，产生资源浪费

为什么要四次分手？
因为tcp都是双向的，首先关闭
从客户端到服务端的连接并确认，然后再关闭服务端到客户端的连接并确认，就4次了